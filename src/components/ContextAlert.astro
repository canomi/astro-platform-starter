---
import Alert from './Alert.astro';
import Markdown from './Markdown.astro';
import { getNetlifyContext } from '../utils';

const noNetlifyContextAlert = `
If you need further \`Ha Giang Loop Tour \` information please visit
([Ha Giang Vision Tourist JSC](https://visiontravel.vn/)) or contact us via WhatsApp at +84825331983.
`;

const { addedChecksFunction, class: className } = Astro.props;
const ctx = getNetlifyContext();

let markdownText = null;
if (!ctx) {
    markdownText = noNetlifyContextAlert;
} else if (addedChecksFunction) {
    markdownText = addedChecksFunction(ctx);
}
---

{
    markdownText && (
        <Alert class={className}>
            <Markdown content={markdownText} />
        </Alert>
    )
}
